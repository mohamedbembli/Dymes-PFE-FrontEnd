<!doctype html>
<html lang="zxx">

<head>
  <meta charset="utf-8">
  <title>Shop - Dymes TN</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" type="image/x-icon" href="/assets/store/img/favicon.ico">
    
   <!-- ======= All CSS Plugins here ======== -->
   
  <link rel="stylesheet" href="/assets/store/css/swiper-bundle.min.css">
  <link rel="stylesheet" href="/assets/store/css/glightbox.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

  <!-- Plugin css -->
  <link rel="stylesheet" href="/assets/store/css/bootstrap.min.css">

  <!-- Custom Style CSS -->
  <link rel="stylesheet" href="/assets/store/css/style.css">

</head>


<body [ngClass]="{ 'mobile_menu_open': isMobileMenuOpen }">
    <app-header-store [basketItemCount]="basketItemCount" [countFavoriteProducts]="countFavoriteProducts"></app-header-store>
   
    <div
     *ngIf="errorMSG"
     class="alert alert-danger alert-dismissible fade show fixed-top w-100"
     role="alert">
     {{ errorMSG }}
    <button type="button" class="btn-close" aria-label="Close" (click)="closeError()"></button>
    </div>

    <div *ngIf="successMSG" class="alert alert-success alert-dismissible fade show fixed-top w-100" role="alert">
        {{ successMSG }}
        <button type="button" class="btn-close" aria-label="Close" (click)="closeSuccess()"></button>
    </div>
   
    <main class="main__content_wrapper">

        <!-- Start breadcrumb section -->
        <section class="breadcrumb__section breadcrumb__bg">
            <div class="container">
                <div class="row row-cols-1">
                    <div class="col">
                        <div class="breadcrumb__content text-center">
                            <h1 class="breadcrumb__content--title text-white mb-25">Mon compte</h1>
                            <ul class="breadcrumb__content--menu d-flex justify-content-center">
                                <li class="breadcrumb__content--menu__items"><a class="text-white" >Accueil</a></li>
                                <li class="breadcrumb__content--menu__items"><span class="text-white">Mon compte</span></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- End breadcrumb section -->
        
        <!-- my account section start -->
        <section class="my__account--section section--padding">
            <div class="container">
                <p class="account__welcome--text">Bonjour, bienvenue sur votre tableau de bord !</p>
                <div class="my__account--section__inner border-radius-10 d-flex">
                    <div class="account__left--sidebar">
                        <h2 class="account__content--title h3 mb-20">Mon profil</h2>
                        <ul class="account__menu">
                            <li class="account__menu--list active"><a (click)="enableDashboard()" >Tableau de bord</a></li>
                            <li class="account__menu--list" ><a (click)="enableAddress()">Adresse</a></li>
                            <li class="account__menu--list"><a [routerLink]="['/favorites']" routerLinkActive="router-link-active" >Liste des favoris</a></li>
                            <li class="account__menu--list"><a (click)="logout()" >Se déconnecter</a></li>
                        </ul>
                    </div>
                    <!-- orderHistoryDashboard -->
                    <div class="account__wrapper" *ngIf="orderHistoryDashboard">
                        <div class="account__content">
                            <h2 class="account__content--title h3 mb-20">Historique des commandes</h2>
                            <div class="account__table--area">
                                <table class="account__table">
                                    <thead class="account__table--header">
                                        <tr class="account__table--header__child">
                                            <th class="account__table--header__child--items">Commande</th>
                                            <th class="account__table--header__child--items">Date</th>
                                            <th class="account__table--header__child--items">Description</th>
                                            <th class="account__table--header__child--items">Statut de la commande</th>
                                            <th class="account__table--header__child--items">Total</th>	 
                                            <th class="account__table--header__child--items">Action</th>	 	 	
                                        </tr>
                                    </thead>
                                        <tbody class="account__table--body mobile__none">
                                            <ng-container *ngIf="ordersList != null">
                                                <ng-container *ngFor="let order of ordersList">
                                                    <tr class="account__table--body__child">
                                                        <td class="account__table--body__child--items">
                                                            <a >#{{order.id}}</a>
                                                        </td>
                                                        <td class="account__table--body__child--items">
                                                            <a >{{order.date}}</a>
                                                        </td>
                                                        <td class="account__table--body__child--items">
                                                            <ng-container *ngFor="let productData of order.myOrderProductsData" >

                                                                <ng-container *ngIf="productData.description.length == 0">
                                                                    {{productData.quantity}} x {{productData.name}} <br>
                                                                </ng-container>

                                                                <ng-container *ngIf="productData.description.length > 0">
                                                                    {{productData.quantity}} x {{productData.name}} ( {{productData.description}} ) <br>
                                                                </ng-container>

                                                            </ng-container>
                                                        </td>
                                                        <td class="account__table--body__child--items">
                                                            <a >{{order.status}}</a>
                                                        </td>
                                                        <td class="account__table--body__child--items">
                                                            <a >{{order.totalWithTax}} DT</a>
                                                        </td>

                                                        <td class="account__table--body__child--items" *ngIf="order.status == 'En attente'">
                                                            <button (click)="cancelOrder(order.id)" type="button" style="width: 100px; height:40px; font-size:14px;" class="btn btn-danger">Annuler</button>
                                                        </td>
                                                        <td class="account__table--body__child--items" *ngIf="order.status != 'En attente' && order.status != 'Annulée'">
                                                            <button (click)="openAddClaimDialog(order.id)" type="button" style="width: 100px; height:40px; font-size:14px;" class="btn btn-warning">Réclamer</button>
                                                        </td>
                                                        <td class="account__table--body__child--items" *ngIf="order.status == 'Annulée'">
                                                            <img src="/assets/img/cancel-icon.png" height="30px" width="30px" style="margin-right: 10px;">
                                                        </td>

                                                        
                                                    </tr>
                                                    </ng-container>
                                            </ng-container>
                                        </tbody>

                                        <tbody class="account__table--body mobile__block">
                                            <ng-container *ngIf="ordersList != null">
                                                <ng-container *ngFor="let order of ordersList">
                                                    <tr class="account__table--body__child">
                                                        <td class="account__table--body__child--items">
                                                            <a >#{{order.id}}</a>
                                                        </td>
                                                        <td class="account__table--body__child--items">
                                                            <a >{{order.date}}</a>
                                                        </td>
                                                        <td class="account__table--body__child--items">
                                                            <ng-container *ngFor="let productData of order.myOrderProductsData" >

                                                                <ng-container *ngIf="productData.description.length == 0">
                                                                    {{productData.quantity}} x {{productData.name}} <br>
                                                                </ng-container>

                                                                <ng-container *ngIf="productData.description.length > 0">
                                                                    {{productData.quantity}} x {{productData.name}} ( {{productData.description}} ) <br>
                                                                </ng-container>

                                                            </ng-container>
                                                        </td>
                                                        <td class="account__table--body__child--items">
                                                            <a >{{order.status}}</a>
                                                        </td>
                                                        <td class="account__table--body__child--items">
                                                            <a >{{order.totalWithTax}} DT</a>
                                                        </td>

                                                        <td class="account__table--body__child--items" *ngIf="order.status == 'En attente'">
                                                            <button (click)="cancelOrder(order.id)" type="button" style="width: 100px; height:40px; font-size:14px;" class="btn btn-danger">Annuler</button>
                                                        </td>
                                                        <td class="account__table--body__child--items" *ngIf="order.status != 'En attente' && order.status != 'Annulée'">
                                                            <button (click)="openAddClaimDialog(order.id)" type="button" style="width: 100px; height:40px; font-size:14px;" class="btn btn-warning">Réclamer</button>
                                                        </td>
                                                        <td class="account__table--body__child--items" *ngIf="order.status == 'Annulée'">
                                                            <img src="/assets/img/cancel-icon.png" height="30px" width="30px" style="margin-right: 10px;">
                                                        </td>
                                                        
                                                    </tr>
                                                    </ng-container>
                                            </ng-container>
                                        </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <!-- addressDashboard -->
                    <div class="account__wrapper" *ngIf="addressDashboard">
                        <div class="account__content">
                            <h3 class="account__content--title mb-20">Adresse de livraison</h3>
                            <button class="new__address--btn primary__btn mb-25" type="button" (click)="addAddress()">Ajoutez une adresse</button>
                            <div class="account__details two" *ngIf="isAddressAlreadyExist">
                                <h4 class="account__details--title">Principal</h4>
                                <p class="account__details--desc">
                                    <ng-container *ngIf="userData.gender == 'MALE'" >
                                        Mr. {{userData.firstName}} {{userData.lastName}}
                                    </ng-container>
                                    <ng-container *ngIf="userData.gender == 'FEMALE'" >
                                        Mme. {{userData.firstName}} {{userData.lastName}}
                                    </ng-container>
                                    <br>
                                    {{userData.address}} <br> 
                                    {{userData.city}} {{userData.zipCode}}<br>
                                    {{userData.phone}}<br>
                                    {{userData.phone2}}</p>
                            </div>
                            <div class="account__details--footer d-flex" *ngIf="isAddressAlreadyExist">
                                <button class="account__details--footer__btn" (click)="openUpdateUserAddressDialog()"  type="button">Edit</button>
                                <button class="account__details--footer__btn" (click)="removeAddress()"  type="button">Delete</button>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </section>
        <!-- my account section end -->

        <!-- Start shipping section -->
        <section class="shipping__section2 shipping__style3 section--padding">
            <div class="container">
                <div class="shipping__section2--inner shipping__style3--inner d-flex justify-content-between">
                    <div class="shipping__items2 d-flex align-items-center">
                        <div class="shipping__items2--icon">
                            <img src="/assets/store/img/other/shipping1-1.png" alt="">
                        </div>
                        <div class="shipping__items2--content">
                            <h2 class="shipping__items2--content__title h3">Expédition</h2>
                            <p class="shipping__items2--content__desc">Des vendeurs triés sur le volet</p>
                        </div>
                    </div>
                    <div class="shipping__items2 d-flex align-items-center">
                        <div class="shipping__items2--icon">
                            <img src="/assets/store/img/other/shipping2-2.png" alt="">
                        </div>
                        <div class="shipping__items2--content">
                            <h2 class="shipping__items2--content__title h3">Paiement</h2>
                            <p class="shipping__items2--content__desc">Sécurisés</p>
                        </div>
                    </div>
                    <div class="shipping__items2 d-flex align-items-center">
                        <div class="shipping__items2--icon">
                            <img src="/assets/store/img/other/shipping3-2.png" alt="">
                        </div>
                        <div class="shipping__items2--content">
                            <h2 class="shipping__items2--content__title h3">Retour</h2>
                            <p class="shipping__items2--content__desc">Garantie 48 heures</p>
                        </div>
                    </div>
                    <div class="shipping__items2 d-flex align-items-center">
                        <div class="shipping__items2--icon">
                            <img src="/assets/store/img/other/shipping4.png" alt="">
                        </div>
                        <div class="shipping__items2--content">
                            <h2 class="shipping__items2--content__title h3">Assistance</h2>
                            <p class="shipping__items2--content__desc">24h/24 7j/7</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- End shipping section -->

    </main>
    <app-footer-store></app-footer-store>
</body>
</html>